# AircraftGroup
Вариант 33 
Авианесущая группа. Засада (***)
Во время военных действий флоту кораблей устроил засаду другой флот, направлявшейся с
базы A на базу B. Каждый флот имеет в своём составе вооружённые крейсера, авианосцы с
самолётами на борту, а также авианесущие крейсера, у которых есть как вооружение, так и самолёты.
Цель первой флотилии - нанести ущерба на определённую стоимость. Цель второй - довести
максимальное кол-во кораблей до базы B.
Вооружение кораблей делится на лёгкое (пригодное только для боя с самолетами) и тяжёлое
(пригодное для боя как с самолётами противника, так и с кораблями). При этом крейсера могут нести
как лёгкое, так и тяжёлое, а авианесущие крейсера только лёгкое вооружение. Каждое вооружение
использует определённые боеприпасы, которые хранятся на складе корабля, размер которого
ограничен. Когда у оружия заканчивается боезапас, происходит его перезарядка за счёт боеприпасов
хранящихся на складе.
Самолёты в свою очередь делятся на истребители, способные сражаться только с самолетами, и
штурмовики, способные только атаковать корабли. Самолёты атакуют корабли и истребители
противника во время выполнения боевого захода. После захода самолёт должен вернуться на корабль
дислокации для дозаправки и перезарядка орудий за счёт соответствующих боеприпасов на складе.
Вооружение стреляет, а самолёты атакуют только если являются активными, если их
деактивировать, они никаких действий не производят. Также бортовое оружие не стреляет, а самолёты
не могут выполнять боевые заходы в случае нехватки боеприпасов на складе.
Разработать приложение, позволяющее описывать процесс подготовки к засаде и процесс
сражения двух флотилий кораблей. Обеспечить загрузку информации о миссии, типах вооружений,
боеприпасов, кораблей и самолётов из конфигурационных файлов, а также возможность загрузки и
сохранения текущего состояния приложения на диск. Для хранения в памяти информация о кораблях,
вооружении и самолётах в памяти используются соответствующие описатели.
В описателе вооружения (и легкого, и тяжелого) содержится название оружия, тип оружия,
название боеприпасов, активность, урон, дальность стрельбы, скорострельность оружия,
максимальный боезапас, текущий боезапас, скорость перезарядки, стоимость.
Описатель самолета содержит: тип самолёта, наносимый урон, активность, живучесть,
скорость, расход топлива, объём топлива, скорость заправки/доснаряжения, стоимость.
Описатель крейсера содержит следующую информацию: тип корабля, название судна,
информацию о капитане (звание, ФИО), скорость, живучесть, данные о вооружении (любое),
максимальное кол-во вооружения, максимальная вместимость склада, список боеприпасов на складе
(по названию) с указанием информации (текущего количества, размера единицы и стоимости
единицы), текущие координаты, координаты места следования, стоимость.
Описатель авианосца содержит следующую информацию: тип корабля, название судна,
информацию о капитане (звание, ФИО), скорость, живучесть, данные о самолетах авианосца,
максимальное кол-во самолётов, текущие координаты, координаты места следования, стоимость.
Описатель авианесущего крейсера содержит следующую информацию: тип корабля, название
судна, информацию о капитане (звание, ФИО), скорость, живучесть, данные о самолетах крейсера,
максимальное кол-во самолётов, данные о вооружении (допустимо только легкое для крейсеров),
максимальное кол-во вооружения, максимальная вместимость склада, список боеприпасов на складе
(по названию) с указанием информации (текущего количества, размера единицы и стоимости
единицы), текущие координаты, координаты места следования, стоимость.
Информация обо всех судах группы сведена в таблицу, каждый элемент которой содержит
указатель на описатель корабля и его позывные (A, B, C...). Суда хранятся в таблице в произвольном
порядке. Для удобства доступа к таблице определен класс-итератор.
Полная информация о миссии хранится в описателе, в котором содержатся таблицы судов
каждой группы, информация о командующем миссией, максимальное возможное кол-во кораблей в
группе, кол-во денег выделенное на миссию, потраченная сумма денег, нанесённый ущерб каждой
группе (в стоимости уничтоженного), необходимый ущерб для победы, общая стоимость противника,
стоимость спасшихся единиц, размер и координаты баз A и B.
Обеспечить выполнение как минимум следующих операций:
Обеспечить выпо
Для любого оружия:
➢ получить/мо
➢ выстрелить;
➢ перезаря
Для самолета:
➢ получить/модифициров
➢ получить ради
➢ сделать налёт;
➢ получить уро
Для любого судна:
➢ получить/модифицировать значение любо
➢ вернуть стоимость корабля (суммарную
➢ установить текущую т
➢ переместить ко
➢ получить урон;
Для авианосца или авианесущего крейсера:
➢ модифицировать самолёты и получить/модифицировать информацию о них;
➢ разрушениякоторые могут нанести кораблю в указанной точке бомбардировщики и сделать вы
➢ разрушениякоторые могут нанести самолёт
Для судна прикрытия или авианесущего крейсера:
➢ модифицировать вооружение и получить/модифицировать информацию о нём;
➢ модифицировать боеприпасы и получить/модифицирова
➢ рассчитать доступное место для боеприпасов на скл
➢ произвести выстрел из орудий по точке с кораблём;
➢ перезарядить пушку без припасов снарядами со склада;
➢ произве
Для таблицы:
➢ получить «описатель судна» по его позыв
➢ получить количество участников группы;
➢ включ
Для миссии
➢ купить/продать судно пользователя;
➢ купить/продать выбранный самолёт для выбранного корабл
➢ сделать перевод самолёта на другое судно (если возможно)
➢ купить/продать выбранное оружие или боепр
➢ уничтожить судно пользователя/противника;
Порядок выполнения работы
1. На основе описания задачи определить состав классов, изобразить иерархию классов и схему их
взаимодействия, а также состояния и необходимые методы с помощью UML.
2. Разработать, реализовать и отладить основные классы(кораблей, самолётов и вооружений). Отладку методов
можно реализовать с помощью Unit тестирования.
3. Разработать и реализовать контейнерные класс вместе с необходимыми итераторами (таблицы). Выбор шаблона
классов согласовать с преподавателем.
4. Разработать и отладить класс, реализующий работу приложения (миссия). Предусмотреть в классе возможность
загрузки информации из конфигурационных файлов, а также сохранения и загрузки текущего состояния.
5. Реализовать консольное приложение.
6. (*) Реализовать приложение с графическим интерфейсом. В этом случае консольное приложение можно не
реализовывать.

Приложение
Здесь приведён только пример приложения. Его можно усложнить, изменить, или
придумать полностью свой. Для реализации прикладной задачи можно добавить недостающие методы
(например для описателя миссия добавить метод 'всем сделать передвижение к заданным точкам'). В
данной задаче самолёты не являются самостоятельными объектами без кораблей, можно
рассматривать их как разрушаемое оружие с возможностью перевода на другое судно.
В данном примере программа работает в три этапа:
1. Загрузка из конфигурационных файлов существующих типов оружия, боеприпасов,
кораблей и самолётов, а также информацию о миссии и расположении и составе
противников из файла карты или конфигурационного файла.
2. Режим подготовки, в котором пользователь может купить/продать корабли, самолёты,
вооружение и боеприпасы для них, а также распределить стартовые позиции кораблей на
карте, изменить информацию о командующем и капитанах кораблей. Переход к следующей
части возможен только когда все купленные корабли расставлены и количество купленных
кораблей больше одного.
3. Режим действия отображающий карту. Корабли противников расположены на базе А и их
целью является база B. Пользователь может сделать приказ на движение к точке или
остановке корабля, активацию/деактивацию оружия и самолётов, перевода самолёта на
другое судно.
В случае если у какого-либо корабля кол-во живучести 0 - он уничтожается, а его
суммарная стоимость перемещается в нанесённый ущерб. Если противник достигает базы B -
суммарная стоимость переносится в разряд спасённой.
Оружие и самолёты стреляют автоматически, если они активированы. В случае если
нанесён противнику требующийся ущерб - пользователь выиграл. Если противнику удалось спасти
достаточное количество судов - пользователь проиграл.
Коллизии кораблей между собой можно не учитывать.
Вариант консольного приложения
Режим подготовки представляет собой просто консольный диалог, с возможностью выбора
соответствующего пункта меню с клавиатуры.
Режим действия, представляет собой псевдографическую карту, на которой изображены
объекты к примеру следующим образом (можно любым другим):
● 
. - пустая клетка;
● A, B, C - корабли пользователя с соответствующим позывным;
● a, b, c - корабли противника;
● < - клетка базы A;
● > - клетка базы B.
Возможен либо пошаговый режим (в этом случае пользователь может в любой момент
управлять кораблями, а для хода всех объектов необходимо нажать клавишу), либо в реальном
времени (в этом случае есть режим движения, в котором объекты совершают ходы с определённым
периодом времени, и режим паузы, в котором можно отдавать приказы кораблям).
Вариант графического приложения
Практически аналогичен консольному варианту, но вместо псевдографики и консольного
диалога используется какой-либо графический фреймворк (oxygine, Cocos2d, Qt/QML, Allegro).
Красота спрайтов и анимации не важна (можно взять любые). В данном случае предполагается только
вариант в реальном времени, однако функция паузы не обязательна.
